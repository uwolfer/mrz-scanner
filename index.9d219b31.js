function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},o=i.parcelRequire4992;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},i.parcelRequire4992=o),o.register("27Lyk",(function(t,n){var i,a;e(t.exports,"register",(()=>i),(e=>i=e)),e(t.exports,"resolve",(()=>a),(e=>a=e));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("6CgpI",(function(e,t){(function(){var i=!1,a=function(e){return e instanceof a?e:this instanceof a?void(this.EXIFwrapped=e):new a(e)};void 0!==t?(e.exports&&(t=e.exports=a),t.EXIF=a):this.EXIF=a;var r=a.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},o=a.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},s=a.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},l=a.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},c=a.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(e){return!!e.exifdata}function u(e,t){function n(n){var r=h(n);e.exifdata=r||{};var o=function(e){var t=new DataView(e);i;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,a=e.byteLength,r=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};for(;n<a;){if(r(t,n)){var o=t.getUint8(n+7);return o%2!=0&&(o+=1),0===o&&(o=4),p(e,n+8+o,t.getUint16(n+6+o))}n++}}(n);if(e.iptcdata=o||{},a.isXmpEnabled){var s=function(e){if(!("DOMParser"in self))return;var t=new DataView(e);i;if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;var n=2,a=e.byteLength,r=new DOMParser;for(;n<a-4;){if("http"==v(t,n,4)){var o=n-1,s=t.getUint16(n-2)-1,l=v(t,o,s),c=l.indexOf("xmpmeta>")+8,d=(l=l.substring(l.indexOf("<x:xmpmeta"),c)).indexOf("x:xmpmeta")+10;return l=l.slice(0,d)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+l.slice(d),y(r.parseFromString(l,"text/xml"))}n++}}(n);e.xmpdata=s||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src))n(function(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),i=n.length,a=new ArrayBuffer(i),r=new Uint8Array(a),o=0;o<i;o++)r[o]=n.charCodeAt(o);return a}(e.src));else if(/^blob\:/i.test(e.src)){(o=new FileReader).onload=function(e){n(e.target.result)},function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}(e.src,(function(e){o.readAsArrayBuffer(e)}))}else{var r=new XMLHttpRequest;r.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(r.response),r=null},r.open("GET",e.src,!0),r.responseType="arraybuffer",r.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var o;(o=new FileReader).onload=function(e){n(e.target.result)},o.readAsArrayBuffer(e)}}function h(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return!1;for(var n=2,i=e.byteLength;n<i;){if(255!=t.getUint8(n))return!1;if(225==t.getUint8(n+1))return b(t,n+4,t.getUint16(n+2));n+=2+t.getUint16(n+2)}}var m={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function p(e,t,n){for(var i,a,r,o,s=new DataView(e),l={},c=t;c<t+n;)28===s.getUint8(c)&&2===s.getUint8(c+1)&&(o=s.getUint8(c+2))in m&&((r=s.getInt16(c+3))+5,a=m[o],i=v(s,c+5,r),l.hasOwnProperty(a)?l[a]instanceof Array?l[a].push(i):l[a]=[l[a],i]:l[a]=i),c++;return l}function f(e,t,n,i,a){var r,o,s=e.getUint16(n,!a),l={};for(o=0;o<s;o++)r=n+12*o+2,l[i[e.getUint16(r,!a)]]=g(e,r,t,n,a);return l}function g(e,t,n,i,a){var r,o,s,l,c,d,u=e.getUint16(t+2,!a),h=e.getUint32(t+4,!a),m=e.getUint32(t+8,!a)+n;switch(u){case 1:case 7:if(1==h)return e.getUint8(t+8,!a);for(r=h>4?m:t+8,o=[],l=0;l<h;l++)o[l]=e.getUint8(r+l);return o;case 2:return v(e,r=h>4?m:t+8,h-1);case 3:if(1==h)return e.getUint16(t+8,!a);for(r=h>2?m:t+8,o=[],l=0;l<h;l++)o[l]=e.getUint16(r+2*l,!a);return o;case 4:if(1==h)return e.getUint32(t+8,!a);for(o=[],l=0;l<h;l++)o[l]=e.getUint32(m+4*l,!a);return o;case 5:if(1==h)return c=e.getUint32(m,!a),d=e.getUint32(m+4,!a),(s=new Number(c/d)).numerator=c,s.denominator=d,s;for(o=[],l=0;l<h;l++)c=e.getUint32(m+8*l,!a),d=e.getUint32(m+4+8*l,!a),o[l]=new Number(c/d),o[l].numerator=c,o[l].denominator=d;return o;case 9:if(1==h)return e.getInt32(t+8,!a);for(o=[],l=0;l<h;l++)o[l]=e.getInt32(m+4*l,!a);return o;case 10:if(1==h)return e.getInt32(m,!a)/e.getInt32(m+4,!a);for(o=[],l=0;l<h;l++)o[l]=e.getInt32(m+8*l,!a)/e.getInt32(m+4+8*l,!a);return o}}function v(e,t,i){var a="";for(n=t;n<t+i;n++)a+=String.fromCharCode(e.getUint8(n));return a}function b(e,t){if("Exif"!=v(e,t,4))return!1;var n,i,a,d,u,h=t+6;if(18761==e.getUint16(h))n=!1;else{if(19789!=e.getUint16(h))return!1;n=!0}if(42!=e.getUint16(h+2,!n))return!1;var m=e.getUint32(h+4,!n);if(m<8)return!1;if((i=f(e,h,h+m,o,n)).ExifIFDPointer)for(a in d=f(e,h,h+i.ExifIFDPointer,r,n)){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":d[a]=c[a][d[a]];break;case"ExifVersion":case"FlashpixVersion":d[a]=String.fromCharCode(d[a][0],d[a][1],d[a][2],d[a][3]);break;case"ComponentsConfiguration":d[a]=c.Components[d[a][0]]+c.Components[d[a][1]]+c.Components[d[a][2]]+c.Components[d[a][3]]}i[a]=d[a]}if(i.GPSInfoIFDPointer)for(a in u=f(e,h,h+i.GPSInfoIFDPointer,s,n)){if("GPSVersionID"===a)u[a]=u[a][0]+"."+u[a][1]+"."+u[a][2]+"."+u[a][3];i[a]=u[a]}return i.thumbnail=function(e,t,n,i){var a=function(e,t,n){var i=e.getUint16(t,!n);return e.getUint32(t+2+12*i,!n)}(e,t+n,i);if(!a)return{};if(a>e.byteLength)return{};var r=f(e,t,t+a,l,i);if(r.Compression)switch(r.Compression){case 6:if(r.JpegIFOffset&&r.JpegIFByteCount){var o=t+r.JpegIFOffset,s=r.JpegIFByteCount;r.blob=new Blob([new Uint8Array(e.buffer,o,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",r.Compression)}else 2==r.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return r}(e,h,m,n),i}function w(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var r=e.childNodes.item(a),o=r.nodeName;if(null==t[o])t[o]=w(r);else{if(null==t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(w(r))}}return t}function y(e){try{var t={};if(e.children.length>0)for(var n=0;n<e.children.length;n++){var i=e.children.item(n),a=i.attributes;for(var r in a){var o=a[r],s=o.nodeName,l=o.nodeValue;void 0!==s&&(t[s]=l)}var c=i.nodeName;if(void 0===t[c])t[c]=w(i);else{if(void 0===t[c].push){var d=t[c];t[c]=[],t[c].push(d)}t[c].push(w(i))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}a.enableXmp=function(){a.isXmpEnabled=!0},a.disableXmp=function(){a.isXmpEnabled=!1},a.getData=function(e,t){return!((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)&&(d(e)?t&&t.call(e):u(e,t),!0)},a.getTag=function(e,t){if(d(e))return e.exifdata[t]},a.getIptcTag=function(e,t){if(d(e))return e.iptcdata[t]},a.getAllTags=function(e){if(!d(e))return{};var t,n=e.exifdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},a.getAllIptcTags=function(e){if(!d(e))return{};var t,n=e.iptcdata,i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i},a.pretty=function(e){if(!d(e))return"";var t,n=e.exifdata,i="";for(t in n)n.hasOwnProperty(t)&&("object"==typeof n[t]?n[t]instanceof Number?i+=t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":i+=t+" : ["+n[t].length+" values]\r\n":i+=t+" : "+n[t]+"\r\n");return i},a.readFromBinaryFile=function(e){return h(e)},"function"==typeof define&&define.amd&&define("exif-js",[],(function(){return a}))}).call(this)})),o.register("fEvqP",(function(e,t){e.exports=function(e,t,n){let i,a;if("<"===t&&n){const t=n.indexOf("<");a=e+n.substring(0,t-1),i=a.length+1}else a=s(e),i=a.length;return{value:a,start:0,end:i}}}));var s={};s=function(e){return e.replace(/<+$/g,"").replace(/</g," ")},o.register("9YwYr",(function(e,t){var n=o("dEepg");e.exports=function(e,t,i){if("<"===e&&i){const a=i.indexOf("<");return t=`${t}<${i.substring(0,a-1)}`,e=i.charAt(a-1),n(t,e),{value:e,start:a,end:a+1}}return n(t,e),e}})),o.register("dEepg",(function(e,t){e.exports=function(e,t){let n=0,i=[7,3,1];for(let t=0;t<e.length;t++){let a=e.charCodeAt(t);60===a&&(a=0),a>=65&&(a-=55),a>=48&&(a-=48),a*=i[t%3],n+=a}if(n%=10,n!==Number(t))throw new Error(`invalid check digit: ${t}. Must be ${n}`)}})),o.register("bhda9",(function(e,t){e.exports=function(e){if(e=s(e),!l[e])throw new Error(`invalid state code: ${e}`);return{value:e,start:0,end:e.length}}}));var l={};const c={AFG:"Afghanistan",ALA:"Åland Islands",ALB:"Albania",DZA:"Algeria",ASM:"American Samoa",AND:"Andorra",AGO:"Angola",AIA:"Anguilla",ATA:"Antarctica",ATG:"Antigua and Barbuda",ARG:"Argentina",ARM:"Armenia",ABW:"Aruba",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BHS:"Bahamas",BHR:"Bahrain",BGD:"Bangladesh",BRB:"Barbados",BLR:"Belarus",BEL:"Belgium",BLZ:"Belize",BEN:"Benin",BMU:"Bermuda",BTN:"Bhutan",BOL:"Bolivia, Plurinational State of",BES:"Bonaire, Sint Eustatius and Saba",BIH:"Bosnia and Herzegovina",BWA:"Botswana",BVT:"Bouvet Island",BRA:"Brazil",IOT:"British Indian Ocean Territory",BRN:"Brunei Darussalam",BGR:"Bulgaria",BFA:"Burkina Faso",BDI:"Burundi",CPV:"Cabo Verde",KHM:"Cambodia",CMR:"Cameroon",CAN:"Canada",CYM:"Cayman Islands",CAF:"Central African Republic",TCD:"Chad",CHL:"Chile",CHN:"China",CXR:"Christmas Island",CCK:"Cocos (Keeling) Islands",COL:"Colombia",COM:"Comoros",COG:"Congo",COD:"Congo, Democratic Republic of the",COK:"Cook Islands",CRI:"Costa Rica",CIV:"Côte d’Ivoire",HRV:"Croatia",CUB:"Cuba",CUW:"Curaçao",CYP:"Cyprus",CZE:"Czech Republic",DNK:"Denmark",DJI:"Djibouti",DMA:"Dominica",DOM:"Dominican Republic",ECU:"Ecuador",EGY:"Egypt",SLV:"El Salvador",GNQ:"Equatorial Guinea",ERI:"Eritrea",EST:"Estonia",ETH:"Ethiopia",FLK:"Falkland Islands (Malvinas)",FRO:"Faroe Islands",FJI:"Fiji",FIN:"Finland",FRA:"France",GUF:"French Guiana",PYF:"French Polynesia",ATF:"French Southern Territories",GAB:"Gabon",GMB:"Gambia",GEO:"Georgia",D:"Germany",GHA:"Ghana",GIB:"Gibraltar",GRC:"Greece",GRL:"Greenland",GRD:"Grenada",GLP:"Guadeloupe",GUM:"Guam",GTM:"Guatemala",GGY:"Guernsey",GIN:"Guinea",GNB:"Guinea-Bissau",GUY:"Guyana",HTI:"Haiti",HMD:"Heard Island and McDonald Islands",VAT:"Holy See (Vatican City State)",HND:"Honduras",HKG:"Hong Kong Special Administrative Region of China",HUN:"Hungary",ISL:"Iceland",IND:"India",IDN:"Indonesia",IRN:"Iran (Islamic Republic of)",IRQ:"Iraq",IRL:"Ireland",IMN:"Isle of Man",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JPN:"Japan",JEY:"Jersey",JOR:"Jordan",KAZ:"Kazakhstan",KEN:"Kenya",KIR:"Kiribati",PRK:"Korea, Democratic People’s Republic of",KOR:"Korea, Republic of",KWT:"Kuwait",KGZ:"Kyrgyzstan",LAO:"Lao People’s Democratic Republic",LVA:"Latvia",LBN:"Lebanon",LSO:"Lesotho",LBR:"Liberia",LBY:"Libya",LIE:"Liechtenstein",LTU:"Lithuania",LUX:"Luxembourg",MAC:"Macao Special Administrative Region of China",MKD:"Macedonia, the former Yugoslav Republic of",MDG:"Madagascar",MWI:"Malawi",MYS:"Malaysia",MDV:"Maldives",MLI:"Mali",MLT:"Malta",MHL:"Marshall Islands",MTQ:"Martinique",MRT:"Mauritania",MUS:"Mauritius",MYT:"Mayotte",MEX:"Mexico",FSM:"Micronesia (Federated States of)",MDA:"Moldova, Republic of",MCO:"Monaco",MNG:"Mongolia",MNE:"Montenegro",MSR:"Montserrat",MAR:"Morocco",MOZ:"Mozambique",MMR:"Myanmar",NAM:"Namibia",NRU:"Nauru",NPL:"Nepal",NLD:"Netherlands",ANT:"Netherlands Antilles",NTZ:"Neutral Zone",NCL:"New Caledonia",NZL:"New Zealand",NIC:"Nicaragua",NER:"Niger",NGA:"Nigeria",NIU:"Niue",NFK:"Norfolk Island",MNP:"Northern Mariana Islands",NOR:"Norway",OMN:"Oman",PAK:"Pakistan",PLW:"Palau",PSE:"Palestine, State of",PAN:"Panama",PNG:"Papua New Guinea",PRY:"Paraguay",PER:"Peru",PHL:"Philippines",PCN:"Pitcairn",POL:"Poland",PRT:"Portugal",PRI:"Puerto Rico",QAT:"Qatar",REU:"Réunion",ROU:"Romania",RUS:"Russian Federation",RWA:"Rwanda",BLM:"Saint Barthélemy",SHN:"Saint Helena, Ascension and Tristan da Cunha",KNA:"Saint Kitts and Nevis",LCA:"Saint Lucia",MAF:"Saint Martin (French part)",SPM:"Saint Pierre and Miquelon",VCT:"Saint Vincent and the Grenadines",WSM:"Samoa",SMR:"San Marino",STP:"Sao Tome and Principe",SAU:"Saudi Arabia",SEN:"Senegal",SRB:"Serbia",SYC:"Seychelles",SLE:"Sierra Leone",SGP:"Singapore",SXM:"Sint Maarten (Dutch part)",SVK:"Slovakia",SVN:"Slovenia",SLB:"Solomon Islands",SOM:"Somalia",ZAF:"South Africa",SGS:"South Georgia and the South Sandwich Islands",SSD:"South Sudan",ESP:"Spain",LKA:"Sri Lanka",SDN:"Sudan",SUR:"Suriname",SJM:"Svalbard and Jan Mayen",SWZ:"Swaziland",SWE:"Sweden",CHE:"Switzerland",SYR:"Syrian Arab Republic",TWN:"Taiwan Province of China",TJK:"Tajikistan",TZA:"Tanzania, United Republic of",THA:"Thailand",TLS:"Timor-Leste",TGO:"Togo",TKL:"Tokelau",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TKM:"Turkmenistan",TCA:"Turks and Caicos Islands",TUV:"Tuvalu",UGA:"Uganda",UKR:"Ukraine",ARE:"United Arab Emirates",GBR:"United Kingdom - British Citizen",GBD:"United Kingdom - British Overseas Territories Citizen",GBN:"United Kingdom - British National (Overseas)",GBO:"United Kingdom - British Overseas Citizen",GBP:"United Kingdom - British Protected person",USA:"United States",UMI:"United States Minor Outlying Islands",URY:"Uruguay",UZB:"Uzbekistan",VUT:"Vanuatu",VEN:"Venezuela, Bolivarian Republic of",VNM:"Viet Nam",VGB:"Virgin Islands (British)",VIR:"Virgin Islands (U.S.)",WLF:"Wallis and Futuna",ESH:"Western Sahara",YEM:"Yemen",ZMB:"Zambia",ZWE:"Zimbabwe",EUE:"European Union (EU)",UNO:"United Nations Organization or one of its officials",UNA:"United Nations specialized agency or one of its officials",UNK:"Resident of Kosovo to whom a travel document has been issued by the United Nations Interim Administration Mission in Kosovo (UNMIK)",XBA:"African Development Bank (ADB)",XIM:"African Export-Import Bank (AFREXIM bank)",XCC:"Caribbean Community or one of its emissaries (CARICOM)",XCO:"Common Market for Eastern and Southern Africa (COMESA)",XEC:"Economic Community of West African States (ECOWAS)",XPO:"International Criminal Police Organization (INTERPOL)",XOM:"Sovereign Military Order of Malta or one of its emissaries",XXA:"Stateless person, as defined in Article 1 of the 1954 Convention Relating to the Status of Stateless Persons",XXB:"Refugee, as defined in Article 1 of the 1951 Convention Relating to the Status of Refugees as amended by the 1967 Protocol",XXC:"Refugee, other than as defined under the code XXB above",XXX:"Person of unspecified nationality, for whom issuing State does not consider it necessary to specify any of the codes XXA, XXB or XXC above, whatever that person’s status may be. This category may include a person who is neither stateless nor a refugee but who is of unknown nationality and legally residing in the State of issue."};Object.freeze(c),l=c,o.register("aillm",(function(e,t){e.exports=function(e){switch(e){case"M":return"male";case"F":return"female";case"<":return"nonspecified";default:throw new Error(`invalid sex: ${e}. Must be M, F or <.`)}}})),o.register("7jZY7",(function(e,t){e.exports=function(e){if(!e.match(/^[0-9<]{4,6}$/))throw new Error(`invalid date: ${e}`);const t=e.substring(2,4);if("<<"!==t&&(t<1||t>12))throw new Error(`invalid date month: ${t}`);if(6===e.length){const t=e.substring(4,6);if("<<"!==t&&(t<1||t>31))throw new Error(`invalid date day: ${t}`)}return e}})),o.register("17awI",(function(e,t){var n=o("dEepg");e.exports=function(e,t){return!1!==e&&n(t,e),e}})),o.register("arooO",(function(e,t){var n=o("dEepg");e.exports=function(e,...t){const i=t.join("");return n(i,e),e}})),o.register("8IQfQ",(function(e,t){e.exports=function(e){const t=e.replace(/.*?<{2}/,""),n=d(t,/^[A-Z<]+<*$/),i=e.length-t.length;return{value:n,start:i,end:i+n.length}}}));var d={};d=function(e,t=/^[0-9A-Z<]+$/){if(!e.match(t))throw new Error(`invalid text: ${e}. Must match the following regular expression: ${t}`);return s(e)},o.register("2maIF",(function(e,t){e.exports=function(e){const t=d(e.replace(/<{2}.*/,""),/^[A-Z<]*<*$/);return{value:t,start:0,end:t.length}}})),o("27Lyk").register(JSON.parse('{"9vqfN":"index.9d219b31.js","fWZ52":"service-worker.js"}'));var u,h,m=o("6CgpI"),p={};u="undefined"!=typeof self?self:p,h=function(){"function"!=typeof Promise&&function(e){function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,t(a,this),t(r,this))}function i(e){var t=this;return null===this._state?void this._deferreds.push(e):void d((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void e.reject(t)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}))}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void l(t(n,e),t(a,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(e){r.call(this,e)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;t>e;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function l(e,t,n){var i=!1;try{e((function(e){i||(i=!0,t(e))}),(function(e){i||(i=!0,n(e))}))}catch(e){if(i)return;i=!0,n(e)}}var c=setTimeout,d="function"==typeof setImmediate&&setImmediate||function(e){c(e,1)},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var a=this;return new n((function(n,r){i.call(a,new s(e,t,n,r))}))},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new n((function(t,n){function i(r,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(e){i(r,e)}),n)}e[r]=o,0==--a&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var a=e.length,r=0;r<e.length;r++)i(r,e[r])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var i=0,a=e.length;a>i;i++)e[i].then(t,n)}))},n._setImmediateFn=function(e){d=e},p?p=n:e.Promise||(e.Promise=n)}(this),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),"undefined"==typeof HTMLCanvasElement||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var i=atob(this.toDataURL(t,n).split(",")[1]),a=i.length,r=new Uint8Array(a),o=0;o<a;o++)r[o]=i.charCodeAt(o);e(new Blob([r],{type:t||"image/png"}))}});var e,t,n,i=["Webkit","Moz","ms"],a="undefined"!=typeof document?document.createElement("div").style:{},r=[1,8,3,6],o=[2,7,4,5];function s(e){if(e in a)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=i.length;n--;)if((e=i[n]+t)in a)return e}function l(e,t){for(var n in e=e||{},t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},l(e[n],t[n])):e[n]=t[n];return e}function c(e){return l({},e)}function d(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function u(e,t,n){if("string"==typeof t){var i=t;(t={})[i]=n}for(var a in t)e.style[a]=t[a]}function h(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function m(e,t){for(var n in t)e.setAttribute(n,t[n])}function f(e){return parseInt(e,10)}function g(e,t){var n=e.naturalWidth,i=e.naturalHeight,a=t||y(e);if(a&&a>=5){var r=n;n=i,i=r}return{width:n,height:i}}t=s("transform"),e=s("transformOrigin"),n=s("userSelect");var v={translate3d:{suffix:", 0px"},translate:{suffix:""}},b=function(e,t,n){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(n)};b.parse=function(e){return e.style?b.parse(e.style[t]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?b.fromMatrix(e):b.fromString(e)},b.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new b(f(t[4]),f(t[5]),parseFloat(t[0]))},b.fromString=function(e){var t=e.split(") "),n=t[0].substring(re.globals.translate.length+1).split(","),i=t.length>1?t[1].substring(6):1,a=n.length>1?n[0]:0,r=n.length>1?n[1]:0;return new b(a,r,i)},b.prototype.toString=function(){var e=v[re.globals.translate].suffix||"";return re.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var w=function(t){if(!t||!t.style[e])return this.x=0,void(this.y=0);var n=t.style[e].split(" ");this.x=parseFloat(n[0]),this.y=parseFloat(n[1])};function y(e){return e.exifdata&&e.exifdata.Orientation?f(e.exifdata.Orientation):1}function C(e,t,n){var i=t.width,a=t.height,r=e.getContext("2d");switch(e.width=t.width,e.height=t.height,r.save(),n){case 2:r.translate(i,0),r.scale(-1,1);break;case 3:r.translate(i,a),r.rotate(180*Math.PI/180);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:e.width=a,e.height=i,r.rotate(90*Math.PI/180),r.scale(1,-1);break;case 6:e.width=a,e.height=i,r.rotate(90*Math.PI/180),r.translate(0,-a);break;case 7:e.width=a,e.height=i,r.rotate(-90*Math.PI/180),r.translate(-i,a),r.scale(1,-1);break;case 8:e.width=a,e.height=i,r.translate(0,i),r.rotate(-90*Math.PI/180)}r.drawImage(t,0,0,i,a),r.restore()}function S(){var e,t,n,i,a,r,o=this,s=o.options.viewport.type?"cr-vp-"+o.options.viewport.type:null;o.options.useCanvas=o.options.enableOrientation||E.call(o),o.data={},o.elements={},e=o.elements.boundary=document.createElement("div"),n=o.elements.viewport=document.createElement("div"),t=o.elements.img=document.createElement("img"),i=o.elements.overlay=document.createElement("div"),o.options.useCanvas?(o.elements.canvas=document.createElement("canvas"),o.elements.preview=o.elements.canvas):o.elements.preview=t,h(e,"cr-boundary"),e.setAttribute("aria-dropeffect","none"),a=o.options.boundary.width,r=o.options.boundary.height,u(e,{width:a+(isNaN(a)?"":"px"),height:r+(isNaN(r)?"":"px")}),h(n,"cr-viewport"),s&&h(n,s),u(n,{width:o.options.viewport.width+"px",height:o.options.viewport.height+"px"}),n.setAttribute("tabindex",0),h(o.elements.preview,"cr-image"),m(o.elements.preview,{alt:"preview","aria-grabbed":"false"}),h(i,"cr-overlay"),o.element.appendChild(e),e.appendChild(o.elements.preview),e.appendChild(n),e.appendChild(i),h(o.element,"croppie-container"),o.options.customClass&&h(o.element,o.options.customClass),M.call(this),o.options.enableZoom&&x.call(o),o.options.enableResize&&T.call(o)}function E(){return this.options.enableExif&&window.EXIF}function T(){var e,t,i,a,r,o,s,l=this,c=document.createElement("div"),d=!1;function m(o){if((void 0===o.button||0===o.button)&&(o.preventDefault(),!d)){var s=l.elements.overlay.getBoundingClientRect();if(d=!0,t=o.pageX,i=o.pageY,e=-1!==o.currentTarget.className.indexOf("vertical")?"v":"h",a=s.width,r=s.height,o.touches){var c=o.touches[0];t=c.pageX,i=c.pageY}window.addEventListener("mousemove",p),window.addEventListener("touchmove",p),window.addEventListener("mouseup",f),window.addEventListener("touchend",f),document.body.style[n]="none"}}function p(n){var o=n.pageX,s=n.pageY;if(n.preventDefault(),n.touches){var d=n.touches[0];o=d.pageX,s=d.pageY}var h=o-t,m=s-i,p=l.options.viewport.height+m,f=l.options.viewport.width+h;"v"===e&&p>=50&&p<=r?(u(c,{height:p+"px"}),l.options.boundary.height+=m,u(l.elements.boundary,{height:l.options.boundary.height+"px"}),l.options.viewport.height+=m,u(l.elements.viewport,{height:l.options.viewport.height+"px"})):"h"===e&&f>=50&&f<=a&&(u(c,{width:f+"px"}),l.options.boundary.width+=h,u(l.elements.boundary,{width:l.options.boundary.width+"px"}),l.options.viewport.width+=h,u(l.elements.viewport,{width:l.options.viewport.width+"px"})),R.call(l),k.call(l),N.call(l),U.call(l),i=s,t=o}function f(){d=!1,window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),document.body.style[n]=""}h(c,"cr-resizer"),u(c,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(h(o=document.createElement("div"),"cr-resizer-vertical"),c.appendChild(o)),this.options.resizeControls.width&&(h(s=document.createElement("div"),"cr-resizer-horisontal"),c.appendChild(s)),o&&(o.addEventListener("mousedown",m),o.addEventListener("touchstart",m)),s&&(s.addEventListener("mousedown",m),s.addEventListener("touchstart",m)),this.elements.boundary.appendChild(c)}function I(e){if(this.options.enableZoom){var t=this.elements.zoomer,n=K(e,4);t.value=Math.max(parseFloat(t.min),Math.min(parseFloat(t.max),n)).toString()}}function x(){var e=this,t=e.elements.zoomerWrap=document.createElement("div"),n=e.elements.zoomer=document.createElement("input");function i(){A.call(e,{value:parseFloat(n.value),origin:new w(e.elements.preview),viewportRect:e.elements.viewport.getBoundingClientRect(),transform:b.parse(e.elements.preview)})}function a(t){var n,a;if("ctrl"===e.options.mouseWheelZoom&&!0!==t.ctrlKey)return 0;n=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,a=e._currentZoom+n*e._currentZoom,t.preventDefault(),I.call(e,a),i.call(e)}h(t,"cr-slider-wrap"),h(n,"cr-slider"),n.type="range",n.step="0.0001",n.value="1",n.style.display=e.options.showZoomer?"":"none",n.setAttribute("aria-label","zoom"),e.element.appendChild(t),t.appendChild(n),e._currentZoom=1,e.elements.zoomer.addEventListener("input",i),e.elements.zoomer.addEventListener("change",i),e.options.mouseWheelZoom&&(e.elements.boundary.addEventListener("mousewheel",a),e.elements.boundary.addEventListener("DOMMouseScroll",a))}function A(n){var i=this,a=n?n.transform:b.parse(i.elements.preview),r=n?n.viewportRect:i.elements.viewport.getBoundingClientRect(),o=n?n.origin:new w(i.elements.preview);function s(){var n={};n[t]=a.toString(),n[e]=o.toString(),u(i.elements.preview,n)}if(i._currentZoom=n?n.value:i._currentZoom,a.scale=i._currentZoom,i.elements.zoomer.setAttribute("aria-valuenow",i._currentZoom),s(),i.options.enforceBoundary){var l=D.call(i,r),c=l.translate,d=l.origin;a.x>=c.maxX&&(o.x=d.minX,a.x=c.maxX),a.x<=c.minX&&(o.x=d.maxX,a.x=c.minX),a.y>=c.maxY&&(o.y=d.minY,a.y=c.maxY),a.y<=c.minY&&(o.y=d.maxY,a.y=c.minY)}s(),L.call(i),U.call(i)}function D(e){var t=this,n=t._currentZoom,i=e.width,a=e.height,r=t.elements.boundary.clientWidth/2,o=t.elements.boundary.clientHeight/2,s=t.elements.preview.getBoundingClientRect(),l=s.width,c=s.height,d=i/2,u=a/2,h=-1*(d/n-r),m=-1*(u/n-o),p=1/n*d,f=1/n*u;return{translate:{maxX:h,minX:h-(l*(1/n)-i*(1/n)),maxY:m,minY:m-(c*(1/n)-a*(1/n))},origin:{maxX:l*(1/n)-p,minX:p,maxY:c*(1/n)-f,minY:f}}}function N(n){var i=this,a=i._currentZoom,r=i.elements.preview.getBoundingClientRect(),o=i.elements.viewport.getBoundingClientRect(),s=b.parse(i.elements.preview.style[t]),l=new w(i.elements.preview),c=o.top-r.top+o.height/2,d=o.left-r.left+o.width/2,h={},m={};if(n){var p=l.x,f=l.y,g=s.x,v=s.y;h.y=p,h.x=f,s.y=g,s.x=v}else h.y=c/a,h.x=d/a,m.y=(h.y-l.y)*(1-a),m.x=(h.x-l.x)*(1-a),s.x-=m.x,s.y-=m.y;var y={};y[e]=h.x+"px "+h.y+"px",y[t]=s.toString(),u(i.elements.preview,y)}function M(){var e,i,a,r,o,s=this,l=!1;function c(e,t){var n=s.elements.preview.getBoundingClientRect(),i=o.y+t,a=o.x+e;s.options.enforceBoundary?(r.top>n.top+t&&r.bottom<n.bottom+t&&(o.y=i),r.left>n.left+e&&r.right<n.right+e&&(o.x=a)):(o.y=i,o.x=a)}function h(e){s.elements.preview.setAttribute("aria-grabbed",e),s.elements.boundary.setAttribute("aria-dropeffect",e?"move":"none")}function m(t){if((void 0===t.button||0===t.button)&&(t.preventDefault(),!l)){if(l=!0,e=t.pageX,i=t.pageY,t.touches){var a=t.touches[0];e=a.pageX,i=a.pageY}h(l),o=b.parse(s.elements.preview),window.addEventListener("mousemove",p),window.addEventListener("touchmove",p),window.addEventListener("mouseup",f),window.addEventListener("touchend",f),document.body.style[n]="none",r=s.elements.viewport.getBoundingClientRect()}}function p(n){n.preventDefault();var r=n.pageX,l=n.pageY;if(n.touches){var h=n.touches[0];r=h.pageX,l=h.pageY}var m=r-e,p=l-i,f={};if("touchmove"===n.type&&n.touches.length>1){var g=n.touches[0],v=n.touches[1],b=Math.sqrt((g.pageX-v.pageX)*(g.pageX-v.pageX)+(g.pageY-v.pageY)*(g.pageY-v.pageY));a||(a=b/s._currentZoom);var w=b/a;return I.call(s,w),void d(s.elements.zoomer)}c(m,p),f[t]=o.toString(),u(s.elements.preview,f),R.call(s),i=l,e=r}function f(){h(l=!1),window.removeEventListener("mousemove",p),window.removeEventListener("touchmove",p),window.removeEventListener("mouseup",f),window.removeEventListener("touchend",f),document.body.style[n]="",N.call(s),U.call(s),a=0}s.elements.overlay.addEventListener("mousedown",m),s.elements.viewport.addEventListener("keydown",(function(e){var i;if(!e.shiftKey||38!==e.keyCode&&40!==e.keyCode){if(s.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var l=function(e){switch(e){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(e.keyCode);o=b.parse(s.elements.preview),document.body.style[n]="none",r=s.elements.viewport.getBoundingClientRect(),function(e){var i=e[0],r=e[1],l={};c(i,r),l[t]=o.toString(),u(s.elements.preview,l),R.call(s),document.body.style[n]="",N.call(s),U.call(s),a=0}(l)}}else i=38===e.keyCode?parseFloat(s.elements.zoomer.value)+parseFloat(s.elements.zoomer.step):parseFloat(s.elements.zoomer.value)-parseFloat(s.elements.zoomer.step),s.setZoom(i)})),s.elements.overlay.addEventListener("touchstart",m)}function R(){if(this.elements){var e=this,t=e.elements.boundary.getBoundingClientRect(),n=e.elements.preview.getBoundingClientRect();u(e.elements.overlay,{width:n.width+"px",height:n.height+"px",top:n.top-t.top+"px",left:n.left-t.left+"px"})}}w.prototype.toString=function(){return this.x+"px "+this.y+"px"};var O,P,F,B,L=(O=R,P=500,function(){var e=this,t=arguments,n=function(){B=null,F||O.apply(e,t)},i=F&&!B;clearTimeout(B),B=setTimeout(n,P),i&&O.apply(e,t)});function U(){var e,t=this,n=t.get();G.call(t)&&(t.options.update.call(t,n),t.$&&"undefined"==typeof Prototype?t.$(t.element).trigger("update.croppie",n):(window.CustomEvent?e=new CustomEvent("update",{detail:n}):(e=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,n),t.element.dispatchEvent(e)))}function G(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function j(){var n,i=this,a={},r=i.elements.preview,o=new b(0,0,1),s=new w;G.call(i)&&!i.data.bound&&(i.data.bound=!0,a[t]=o.toString(),a[e]=s.toString(),a.opacity=1,u(r,a),n=i.elements.preview.getBoundingClientRect(),i._originalImageWidth=n.width,i._originalImageHeight=n.height,i.data.orientation=E.call(i)?y(i.elements.img):i.data.orientation,i.options.enableZoom?k.call(i,!0):i._currentZoom=1,o.scale=i._currentZoom,a[t]=o.toString(),u(r,a),i.data.points.length?_.call(i,i.data.points):H.call(i),N.call(i),R.call(i))}function k(e){var t,n,i,a,r=this,o=Math.max(r.options.minZoom,0)||0,s=r.options.maxZoom||1.5,l=r.elements.zoomer,c=parseFloat(l.value),u=r.elements.boundary.getBoundingClientRect(),h=g(r.elements.img,r.data.orientation),m=r.elements.viewport.getBoundingClientRect();r.options.enforceBoundary&&(i=m.width/h.width,a=m.height/h.height,o=Math.max(i,a)),o>=s&&(s=o+1),l.min=K(o,4),l.max=K(s,4),!e&&(c<l.min||c>l.max)?I.call(r,c<l.min?l.min:l.max):e&&(n=Math.max(u.width/h.width,u.height/h.height),t=null!==r.data.boundZoom?r.data.boundZoom:n,I.call(r,t)),d(l)}function _(n){if(4!==n.length)throw"Croppie - Invalid number of points supplied: "+n;var i=this,a=n[2]-n[0],r=i.elements.viewport.getBoundingClientRect(),o=i.elements.boundary.getBoundingClientRect(),s=r.left-o.left,l=r.top-o.top,c=r.width/a,d=n[1],h=n[0],m=-1*n[1]+l,p=-1*n[0]+s,f={};f[e]=h+"px "+d+"px",f[t]=new b(p,m,c).toString(),u(i.elements.preview,f),I.call(i,c),i._currentZoom=c}function H(){var e=this,n=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),a=e.elements.boundary.getBoundingClientRect(),r=i.left-a.left,o=i.top-a.top,s=r-(n.width-i.width)/2,l=o-(n.height-i.height)/2,c=new b(s,l,e._currentZoom);u(e.elements.preview,t,c.toString())}function X(e){var t=this,n=t.elements.canvas,i=t.elements.img;n.getContext("2d").clearRect(0,0,n.width,n.height),n.width=i.width,n.height=i.height,C(n,i,t.options.enableOrientation&&e||y(i))}function $(e){var t=this,n=e.points,i=f(n[0]),a=f(n[1]),r=f(n[2])-i,o=f(n[3])-a,s=e.circle,l=document.createElement("canvas"),c=l.getContext("2d"),d=e.outputWidth||r,u=e.outputHeight||o;l.width=d,l.height=u,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,d,u));var h=i,m=a,p=r,g=o,v=0,b=0,w=d,y=u;return i<0&&(h=0,v=Math.abs(i)/r*d),p+h>t._originalImageWidth&&(w=(p=t._originalImageWidth-h)/r*d),a<0&&(m=0,b=Math.abs(a)/o*u),g+m>t._originalImageHeight&&(y=(g=t._originalImageHeight-m)/o*u),c.drawImage(this.elements.preview,h,m,p,g,v,b,w,y),s&&(c.fillStyle="#fff",c.globalCompositeOperation="destination-in",c.beginPath(),c.arc(l.width/2,l.height/2,l.width/2,0,2*Math.PI,!0),c.closePath(),c.fill()),l}function Z(e){var t=e.points,n=document.createElement("div"),i=document.createElement("img"),a=t[2]-t[0],r=t[3]-t[1];return h(n,"croppie-result"),n.appendChild(i),u(i,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),i.src=e.url,u(n,{width:a+"px",height:r+"px"}),n}function W(e){return $.call(this,e).toDataURL(e.format,e.quality)}function Y(e){var t=this;return new Promise((function(n){$.call(t,e).toBlob((function(e){n(e)}),e.format,e.quality)}))}function z(e){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(t){e.classList.add(t)})),this.elements.img.parentNode.replaceChild(e,this.elements.img),this.elements.preview=e),this.elements.img=e}function V(e,t){var n,i=this,a=[],r=null,o=E.call(i);if("string"==typeof e)n=e,e={};else if(Array.isArray(e))a=e.slice();else{if(void 0===e&&i.data.url)return j.call(i),U.call(i),null;n=e.url,a=e.points||[],r=void 0===e.zoom?null:e.zoom}return i.data.bound=!1,i.data.url=n||i.data.url,i.data.boundZoom=r,function(e,t){if(!e)throw"Source image missing";var n=new Image;return n.style.opacity="0",new Promise((function(i,a){function r(){n.style.opacity="1",setTimeout((function(){i(n)}),1)}n.removeAttribute("crossOrigin"),e.match(/^https?:\/\/|^\/\//)&&n.setAttribute("crossOrigin","anonymous"),n.onload=function(){t?EXIF.getData(n,(function(){r()})):r()},n.onerror=function(e){n.style.opacity=1,setTimeout((function(){a(e)}),1)},n.src=e}))}(n,o).then((function(n){if(z.call(i,n),a.length)i.options.relative&&(a=[a[0]*n.naturalWidth/100,a[1]*n.naturalHeight/100,a[2]*n.naturalWidth/100,a[3]*n.naturalHeight/100]);else{var r,o,s=g(n),l=i.elements.viewport.getBoundingClientRect(),c=l.width/l.height;s.width/s.height>c?r=(o=s.height)*c:(r=s.width,o=s.height/c);var d=(s.width-r)/2,u=(s.height-o)/2,h=d+r,m=u+o;i.data.points=[d,u,h,m]}i.data.orientation=e.orientation||1,i.data.points=a.map((function(e){return parseFloat(e)})),i.options.useCanvas&&X.call(i,i.data.orientation),j.call(i),U.call(i),t&&t()}))}function K(e,t){return parseFloat(e).toFixed(t||0)}function q(){var e=this,t=e.elements.preview.getBoundingClientRect(),n=e.elements.viewport.getBoundingClientRect(),i=n.left-t.left,a=n.top-t.top,r=(n.width-e.elements.viewport.offsetWidth)/2,o=(n.height-e.elements.viewport.offsetHeight)/2,s=i+e.elements.viewport.offsetWidth+r,l=a+e.elements.viewport.offsetHeight+o,c=e._currentZoom;(c===1/0||isNaN(c))&&(c=1);var d=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return i=Math.max(d,i/c),a=Math.max(d,a/c),s=Math.max(d,s/c),l=Math.max(d,l/c),{points:[K(i),K(a),K(s),K(l)],zoom:c,orientation:e.data.orientation}}var J={type:"canvas",format:"png",quality:1},Q=["jpeg","webp","png"];function ee(e){var t=this,n=q.call(t),i=l(c(J),c(e)),a="string"==typeof e?e:i.type||"base64",r=i.size||"viewport",o=i.format,s=i.quality,d=i.backgroundColor,u="boolean"==typeof i.circle?i.circle:"circle"===t.options.viewport.type,h=t.elements.viewport.getBoundingClientRect(),m=h.width/h.height;return"viewport"===r?(n.outputWidth=h.width,n.outputHeight=h.height):"object"==typeof r&&(r.width&&r.height?(n.outputWidth=r.width,n.outputHeight=r.height):r.width?(n.outputWidth=r.width,n.outputHeight=r.width/m):r.height&&(n.outputWidth=r.height*m,n.outputHeight=r.height)),Q.indexOf(o)>-1&&(n.format="image/"+o,n.quality=s),n.circle=u,n.url=t.data.url,n.backgroundColor=d,new Promise((function(e){switch(a.toLowerCase()){case"rawcanvas":e($.call(t,n));break;case"canvas":case"base64":e(W.call(t,n));break;case"blob":Y.call(t,n).then(e);break;default:e(Z.call(t,n))}}))}function te(){j.call(this)}function ne(e){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var t,n,i,a,s,l=this,c=l.elements.canvas;if(l.data.orientation=(t=l.data.orientation,n=e,i=r.indexOf(t)>-1?r:o,a=i.indexOf(t),s=n/90%i.length,i[(i.length+a+s%i.length)%i.length]),C(c,l.elements.img,l.data.orientation),N.call(l,!0),k.call(l),Math.abs(e)/90%2==1){var d=l._originalImageHeight,u=l._originalImageWidth;l._originalImageWidth=d,l._originalImageHeight=u}}function ie(){var e,t,n=this;n.element.removeChild(n.elements.boundary),e=n.element,t="croppie-container",e.classList?e.classList.remove(t):e.className=e.className.replace(t,""),n.options.enableZoom&&n.element.removeChild(n.elements.zoomerWrap),delete n.elements}if("undefined"!=typeof window&&window.jQuery){var ae=window.jQuery;ae.fn.croppie=function(e){var t=typeof e;if("string"===t){var n=Array.prototype.slice.call(arguments,1),i=ae(this).data("croppie");return"get"===e?i.get():"result"===e?i.result.apply(i,n):"bind"===e?i.bind.apply(i,n):this.each((function(){var t=ae(this).data("croppie");if(t){var i=t[e];if(!ae.isFunction(i))throw"Croppie "+e+" method not found";i.apply(t,n),"destroy"===e&&ae(this).removeData("croppie")}}))}return this.each((function(){var t=new re(this,e);t.$=ae,ae(this).data("croppie",t)}))}}function re(e,t){if(e.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=e,this.options=l(c(re.defaults),t),"img"===this.element.tagName.toLowerCase()){var n=this.element;h(n,"cr-original-image"),m(n,{"aria-hidden":"true",alt:""});var i=document.createElement("div");this.element.parentNode.appendChild(i),i.appendChild(n),this.element=i,this.options.url=this.options.url||n.src}if(S.call(this),this.options.url){var a={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,V.call(this,a)}}return re.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},re.globals={translate:"translate3d"},l(re.prototype,{bind:function(e,t){return V.call(this,e,t)},get:function(){var e=q.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return ee.call(this,e)},refresh:function(){return te.call(this)},setZoom:function(e){I.call(this,e),d(this.elements.zoomer)},rotate:function(e){ne.call(this,e)},destroy:function(){return ie.call(this)}}),re},"function"==typeof define&&define.amd?define(h):"object"==typeof p&&"string"!=typeof p.nodeName?p=h():u.Croppie=h();var f,g={};const v={TD1:"TD1",TD2:"TD2",TD3:"TD3",SWISS_DRIVING_LICENSE:"SWISS_DRIVING_LICENSE",FRENCH_NATIONAL_ID:"FRENCH_NATIONAL_ID"};Object.freeze(v);var b={};b=function(e){if("string"==typeof e&&(e=e.split(/[\r\n]+/)),!Array.isArray(e))throw new TypeError("input must be an array or string");for(const t of e)if(!t.match(/[A-Z0-9<]+/))throw new TypeError('lines must be composed of only alphanumerical characters and "<"');return e};var w,y,C,S,E=(f=v).FRENCH_NATIONAL_ID;S=function(e){if(!e.match(/^[A-Z<]+$/))throw new Error(`invalid text: ${e}. Must be only alphabetical with <`);return s(e)};var T;T=function(e){const t=e.charAt(0);if("A"!==t&&"C"!==t&&"I"!==t)throw new Error(`invalid document code: ${e}. First character must be A, C or I`);const n=e.charAt(1);if("V"===n)throw new Error(`invalid document code: ${e}. Second character may not be V`);return"<"===n?{value:t,start:0,end:1}:e};var I={};I=function(e){const t=d(e);return{value:t,start:0,end:0+t.length}};var x;function A(e,t){return e[t.line].substring(t.start,t.end)}function D(e,t,n){if(typeof e[t]!==n)throw new TypeError(`${t} must be a ${n}`)}x=function(e){D(e,"label","string"),null!==e.field&&D(e,"field","string"),D(e,"line","number"),D(e,"start","number"),D(e,"end","number"),D(e,"parser","function");const t=[{line:e.line,start:e.start,end:e.end}];if(Array.isArray(e.related))for(const n of e.related)D(n,"line","number"),D(n,"start","number"),D(n,"end","number"),t.push(n);return function(n){const i=A(n,e);let a=e.related||[];a=a.map((e=>A(n,e)));const r={label:e.label,field:e.field,value:null,valid:!1,ranges:t.map((e=>({line:e.line,start:e.start,end:e.end,raw:A(n,e)})))},o=r.ranges[0];r.line=o.line,r.start=o.start,r.end=o.end;try{let t=e.parser(i,...a);r.value="object"==typeof t?t.value:t,r.valid=!0,"object"==typeof t&&(r.start=o.start+t.start,r.end=o.start+t.end)}catch(e){r.error=e.message}return r}};var N;const M={label:"Document number",field:"documentNumber",parser:o("fEvqP")},R={label:"Document number check digit",field:"documentNumberCheckDigit",parser:o("9YwYr")},O={label:"Nationality",field:"nationality",parser:o("bhda9")},P={label:"Sex",field:"sex",parser:o("aillm")},F={label:"Expiration date",field:"expirationDate",parser:o("7jZY7")},B={label:"Expiration date check digit",field:"expirationDateCheckDigit",parser:o("17awI")},L={label:"Composite check digit",field:"compositeCheckDigit",parser:o("arooO")};var U=(N={documentNumberTemplate:M,documentNumberCheckDigitTemplate:R,documentCodeTemplate:{label:"Document code",field:"documentCode"},nationalityTemplate:O,sexTemplate:P,expirationDateTemplate:F,expirationDateCheckDigitTemplate:B,birthDateTemplate:{label:"Birth date",field:"birthDate",parser:o("7jZY7")},birthDateCheckDigitTemplate:{label:"Birth date check digit",field:"birthDateCheckDigit",parser:o("17awI")},issueDateTemplate:{label:"Issue date",field:"issueDate",parser:o("7jZY7")},compositeCheckDigitTemplate:L,firstNameTemplate:{label:"First name",field:"firstName",parser:o("8IQfQ")},lastNameTemplate:{label:"Last name",field:"lastName",parser:o("2maIF")},issuingStateTemplate:{label:"Issuing state",field:"issuingState",parser:o("bhda9")}}).documentCodeTemplate,G=N.issuingStateTemplate,j=N.lastNameTemplate,k=N.issueDateTemplate,_=N.firstNameTemplate,H=N.documentNumberTemplate,X=N.documentNumberCheckDigitTemplate,$=N.birthDateTemplate,Z=N.birthDateCheckDigitTemplate,W=N.sexTemplate,Y=N.compositeCheckDigitTemplate;C=[Object.assign({},U,{line:0,start:0,end:2,parser:T}),Object.assign({},G,{line:0,start:2,end:5}),Object.assign({},j,{line:0,start:5,end:30,parser:S}),{label:"Administrative code",field:"administrativeCode",line:0,start:30,end:36,parser:I},Object.assign({},k,{line:1,start:0,end:4}),{label:"Administrative code 2",field:"administrativeCode2",line:1,start:4,end:7,parser:I},Object.assign({},H,{line:1,start:7,end:12}),Object.assign({},X,{line:1,start:12,end:13,related:[{line:1,start:0,end:12}]}),Object.assign({},_,{line:1,start:13,end:27,parser:S}),Object.assign({},$,{line:1,start:27,end:33}),Object.assign({},Z,{line:1,start:33,end:34,related:[{line:1,start:27,end:33}]}),Object.assign({},W,{line:1,start:34,end:35}),Object.assign({},Y,{line:1,start:35,end:36,related:[{line:0,start:0,end:36},{line:1,start:0,end:35}]})].map(x);var z={};z=function(e,t,n){const i=function(e,t){const n=[];for(const i of t)n.push(i(e));return n}(t,n),a=function(e){const t={};let n=!0;for(const i of e)i.valid||(n=!1),i.field&&(t[i.field]=i.value);return{fields:t,valid:n}}(i);return{format:e,details:i,fields:a.fields,valid:a.valid}},y=function(e){if(2!==(e=b(e)).length)throw new Error(`invalid number of lines: ${e.length}: Must be 2 for ${E}`);return e.forEach(((e,t)=>{if(36!==e.length)throw new Error(`invalid number of characters for line ${t+1}: ${e.length}. Must be 36 for ${E}`)})),z(E,e,C)};var V,K,q=f.SWISS_DRIVING_LICENSE,J={};J=function(e){if(!e.match(/^[0-9]+$/))throw new Error(`invalid number: ${e}`);return e};var Q={};Q=function(e){if(!e.match(/^<*$/))throw new Error(`invalid separator: ${e}. Must be composed only of "<"`);return e};var ee;ee=function(e){if("FA"!==e)throw new Error(`invalid document code: ${e}. Must be FA`);return e};var te,ne={};ne=function(e){switch(e){case"D":case"F":case"I":case"R":return e;default:throw new Error(`invalid languageCode code: ${e}. Must be D, F, I or R`)}},te=function(e){let t=e.substring(0,3),n=e.substring(3,6),i=e.charAt(6),a=e.substring(7);if(!t.match(/^[A-Z0-9]{3}$/))throw new Error(`invalid document number: ${e}. Must start with three alphanumeric digits`);if(!n.match(/^[0-9]{3}$/))throw new Error(`invalid document number: ${e}. Must have numeric digits in positions 4, 5 and 6`);if("<<"!==a)throw new Error(`invalid document number: ${e}. Must end with <<`);return ne(i),{value:e.substring(0,7),start:0,end:7}};var ie;ie=function(e){if("CHE"!==e&&"LIE"!==e)throw new Error(`invalid state code: ${e}. Must be CHE or LIE`);return e};var ae=N.documentNumberTemplate,re=N.documentCodeTemplate,oe=N.issuingStateTemplate,se=N.birthDateTemplate,le=N.lastNameTemplate,ce=N.firstNameTemplate;K=[Object.assign({},ae,{line:0,start:0,end:9,parser:te}),{label:"Language code",field:"languageCode",line:0,start:6,end:7,parser:ne},Object.assign({},re,{line:1,start:0,end:2,parser:ee}),Object.assign({},oe,{line:1,start:2,end:5,parser:ie}),{label:"PIN code",field:"pinCode",line:1,start:5,end:14,parser:J},{label:"Version number",field:"versionNumber",line:1,start:14,end:17,parser:J},{label:"Separator 1",field:null,line:1,start:17,end:19,parser:Q},Object.assign({},se,{line:1,start:19,end:25}),{label:"Separator 2",field:null,line:1,start:25,end:30,parser:Q},Object.assign({},le,{line:2,start:0,end:30}),Object.assign({},ce,{line:2,start:0,end:30})].map(x),V=function(e){if(3!==(e=b(e)).length)throw new Error(`invalid number of lines: ${e.length}: Must be 3 for ${q}`);if(9!==e[0].length)throw new Error(`invalid number of characters for line 1: ${e[0].length}. Must be 9 for ${q}`);if(30!==e[1].length)throw new Error(`invalid number of characters for line 2: ${e[1].length}. Must be 30 for ${q}`);if(30!==e[2].length)throw new Error(`invalid number of characters for line 3: ${e[2].length}. Must be 30 for ${q}`);return z(q,e,K)};var de,ue,he=f.TD1,me={};me=function(e,t,n){if("<"===n){const t=e.indexOf("<"),n=d(e.substring(t+1));return{value:n,start:t+1,end:t+1+n.length}}{const t=d(e);return{value:t,start:0,end:0+t.length}}};var pe=N.documentCodeTemplate,fe=N.issuingStateTemplate,ge=N.documentNumberTemplate,ve=N.documentNumberCheckDigitTemplate,be=N.birthDateTemplate,we=N.birthDateCheckDigitTemplate,ye=N.sexTemplate,Ce=N.expirationDateTemplate,Se=N.expirationDateCheckDigitTemplate,Ee=N.nationalityTemplate,Te=N.compositeCheckDigitTemplate,Ie=N.lastNameTemplate,xe=N.firstNameTemplate;ue=[Object.assign({},pe,{line:0,start:0,end:2,parser:T}),Object.assign({},fe,{line:0,start:2,end:5}),Object.assign({},ge,{line:0,start:5,end:14,related:[{line:0,start:14,end:15},{line:0,start:15,end:30}]}),Object.assign(ve,{line:0,start:14,end:15,related:[{line:0,start:5,end:14},{line:0,start:15,end:30}]}),{label:"Optional field 1",field:"optional1",line:0,start:15,end:30,related:[{line:0,start:5,end:14},{line:0,start:14,end:15}],parser:me},Object.assign({},be,{start:0,end:6,line:1}),Object.assign({},we,{line:1,start:6,end:7,related:[{line:1,start:0,end:6}]}),Object.assign({},ye,{line:1,start:7,end:8}),Object.assign({},Ce,{line:1,start:8,end:14}),Object.assign({},Se,{line:1,start:14,end:15,related:[{line:1,start:8,end:14}]}),Object.assign({},Ee,{line:1,start:15,end:18}),{label:"Optional field 2",field:"optional2",line:1,start:18,end:29,parser:I},Object.assign({},Te,{line:1,start:29,end:30,related:[{line:0,start:5,end:30},{line:1,start:0,end:7},{line:1,start:8,end:15},{line:1,start:18,end:29}]}),Object.assign({},Ie,{line:2,start:0,end:30}),Object.assign({},xe,{line:2,start:0,end:30})].map(x),de=function(e){if(3!==(e=b(e)).length)throw new Error(`invalid number of lines: ${e.length}: Must be 3 for ${he}`);return e.forEach(((e,t)=>{if(30!==e.length)throw new Error(`invalid number of characters for line ${t+1}: ${e.length}. Must be 30 for ${he}`)})),z(he,e,ue)};var Ae,De,Ne=f.TD2,Me=N.documentCodeTemplate,Re=N.issuingStateTemplate,Oe=N.firstNameTemplate,Pe=N.lastNameTemplate,Fe=N.documentNumberTemplate,Be=N.documentNumberCheckDigitTemplate,Le=N.nationalityTemplate,Ue=N.birthDateTemplate,Ge=N.birthDateCheckDigitTemplate,je=N.sexTemplate,ke=N.expirationDateTemplate,_e=N.expirationDateCheckDigitTemplate,He=N.compositeCheckDigitTemplate;De=[Object.assign({},Me,{line:0,start:0,end:2,parser:T}),Object.assign({},Re,{line:0,start:2,end:5}),Object.assign({},Pe,{line:0,start:5,end:36}),Object.assign({},Oe,{line:0,start:5,end:36}),Object.assign({},Fe,{line:1,start:0,end:9,related:[{line:1,start:9,end:10},{line:1,start:28,end:35}]}),Object.assign({},Be,{line:1,start:9,end:10,related:[{line:1,start:0,end:9},{line:1,start:28,end:35}]}),Object.assign({},Le,{line:1,start:10,end:13}),Object.assign({},Ue,{line:1,start:13,end:19}),Object.assign({},Ge,{line:1,start:19,end:20,related:[{line:1,start:13,end:19}]}),Object.assign({},je,{line:1,start:20,end:21}),Object.assign({},ke,{line:1,start:21,end:27}),Object.assign({},_e,{line:1,start:27,end:28,related:[{line:1,start:21,end:27}]}),{label:"Optional field",field:"optional",line:1,start:28,end:35,parser:I},Object.assign({},He,{line:1,start:35,end:36,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:35}]})].map(x),Ae=function(e){if(2!==(e=b(e)).length)throw new Error(`invalid number of lines: ${e.length}: Must be 2 for ${Ne}`);return e.forEach(((e,t)=>{if(36!==e.length)throw new Error(`invalid number of characters for line ${t+1}: ${e.length}. Must be 36 for TD2`)})),z(Ne,e,De)};var Xe,$e,Ze=f.TD3;$e=function(e){const t=e.charAt(0);if("P"!==t)throw new Error(`invalid document code: ${e}. First character must be P`);const n=e.charAt(1);if(!n.match(/[A-Z<]/))throw new Error(`invalid document code: ${e}. Second character must be a letter or <`);return"<"===n?{value:t,start:0,end:1}:e};var We={};We=function(e){const t=d(e,/^[A-Z0-9<]+<*$/);return{value:t,start:0,end:t.length}};var Ye={},ze=o("dEepg");Ye=function(e,t){if(""===s(t)){if("<"!==e&&"0"!==e)throw new Error(`invalid check digit ${e}: must be 0 or <`);return e}return ze(t,e),e};var Ve=N.documentCodeTemplate,Ke=N.issuingStateTemplate,qe=N.lastNameTemplate,Je=N.firstNameTemplate,Qe=N.documentNumberTemplate,et=N.documentNumberCheckDigitTemplate,tt=N.nationalityTemplate,nt=N.birthDateTemplate,it=N.birthDateCheckDigitTemplate,at=N.sexTemplate,rt=N.expirationDateTemplate,ot=N.expirationDateCheckDigitTemplate,st=N.compositeCheckDigitTemplate;function lt(e){switch((e=b(e)).length){case 2:case 3:switch(e[0].length){case 30:return w.TD1(e);case 36:return e[0].substr(30,36).match(/[0-9]/)?w.FRENCH_NATIONAL_ID(e):w.TD2(e);case 44:return w.TD3(e);case 9:return w.SWISS_DRIVING_LICENSE(e);default:throw new Error("unrecognized document format. First line of input must have 30 (TD1), 36 (TD2 or French National Id), 44 (TD3) or 9 (Swiss Driving License) characters")}default:throw new Error(`unrecognized document format. Input must have two or three lines, found${e.length}`)}}Xe=[Object.assign({},Ve,{line:0,start:0,end:2,parser:$e}),Object.assign({},Ke,{line:0,start:2,end:5}),Object.assign({},qe,{line:0,start:5,end:44}),Object.assign({},Je,{line:0,start:5,end:44}),Object.assign({},Qe,{line:1,start:0,end:9}),Object.assign({},et,{line:1,start:9,end:10,related:[{line:1,start:0,end:9}]}),Object.assign({},tt,{line:1,start:10,end:13}),Object.assign({},nt,{line:1,start:13,end:19}),Object.assign({},it,{line:1,start:19,end:20,related:[{line:1,start:13,end:19}]}),Object.assign({},at,{line:1,start:20,end:21}),Object.assign({},rt,{line:1,start:21,end:27}),Object.assign({},ot,{line:1,start:27,end:28,related:[{line:1,start:21,end:27}]}),{label:"Personal number",field:"personalNumber",line:1,start:28,end:42,parser:We},{label:"Personal number check digit",field:"personalNumberCheckDigit",line:1,start:42,end:43,related:[{line:1,start:28,end:42}],parser:Ye},Object.assign({},st,{line:1,start:43,end:44,related:[{line:1,start:0,end:10},{line:1,start:13,end:20},{line:1,start:21,end:43}]})].map(x),w={TD1:de,TD2:Ae,TD3:function(e){if(2!==(e=b(e)).length)throw new Error(`invalid number of lines: ${e.length}: Must be 2 for ${Ze}`);return e.forEach(((e,t)=>{if(44!==e.length)throw new Error(`invalid number of characters for line ${t+1}: ${e.length}. Must be 44 for TD3`)})),z(Ze,e,Xe)},SWISS_DRIVING_LICENSE:V,FRENCH_NATIONAL_ID:y};for(const e in f)lt[e]=w[e];g={states:l,formats:f,parse:lt};const ct={lang:"OCRB",load_system_dawg:"F",load_freq_dawg:"F",load_unambig_dawg:"F",load_punc_dawg:"F",load_number_dawg:"F",load_fixed_length_dawgs:"F",load_bigram_dawg:"F",wordrec_enable_assoc:"F",tessedit_pageseg_mode:"6",tessedit_char_whitelist:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789<"};window.EXIF=m,window.Tesseract=Tesseract.create({langPath:"https://cdn.jsdelivr.net/gh/uwolfer/tesseract-mrz@master/lang/"});const dt=document.getElementById("progress"),ut=document.getElementById("document"),ht=document.getElementById("document-content"),mt=document.getElementById("document-check");window.Tesseract.recognize(document.createElement("canvas"),ct).progress((e=>{console.log(e),dt.innerText=`${Math.round(100*e.progress)}%`}));const pt=new(t(p))(ut,{url:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",viewport:{width:900,height:220},enableExif:!0,showZoomer:!1,enforceBoundary:!1,enableResize:!0,enableOrientation:!0}),ft=()=>{const e=ht.value.split("\n");console.log(e);try{const t=e?g.parse(e):{valid:!1};console.log(t),mt.value=JSON.stringify(t,null,2),ht.className=t.valid?"valid":"invalid"}catch(e){mt.value=e,ht.className="invalid"}},gt=e=>{e.target.select(),document.execCommand("copy")};document.getElementById("fileInput").addEventListener("change",(e=>{const t=e.target.files[0],n=new FileReader;n.onload=e=>pt.bind(e.target.result),n.readAsDataURL(t)})),document.getElementById("rotate").addEventListener("click",(()=>pt.rotate(90))),document.getElementById("scan").addEventListener("click",(()=>{ht.value="",pt.result().then((e=>{window.Tesseract.recognize(e,ct).progress((e=>{console.log(e),dt.innerText=`${Math.round(100*e.progress)}%`})).then((e=>{console.log(e);const t=e.lines.map((e=>e.text)).map((e=>e.replace(/ |\r\n|\r|\n/g,""))).filter((e=>e.includes("<<"))).filter((e=>e.length<48)).filter((e=>e.length>28));console.log(t),ht.value=t.join("\r\n"),ft()})).catch((e=>console.error(e)))}))})),document.getElementById("check").addEventListener("click",ft),ht.addEventListener("click",gt),mt.addEventListener("click",gt);var vt;vt=new URL(o("27Lyk").resolve("fWZ52"),import.meta.url).toString(),"serviceWorker"in navigator&&navigator.serviceWorker.register(vt).then((()=>console.log("Service-Worker-Registered")));
//# sourceMappingURL=index.9d219b31.js.map
